[Gemini conversation](https://gemini.google.com/app/75915c139d9aa2a2)
# Methodology and Proposed Framework
## Overall Research Approach
This work took a constructivist route to come up with an innovative solution to bring Wi-Fi-only devices under \ac{5G} networks through the use of existing \ac{5G} system facilities and features, predominantly through repurposing.

The first step involved examination of the \ac{5G} architecture and pertinent \ac{3GPP} standards. Although such standards prescribe mechanisms for non-\ac{3GPP} access along with the handling of devices behind residential gateways, it was realized that they cannot address in total the said specific problem of integrating devices that are not native to \ac{5G} credentials in terms of, e.g., \ac{USIM}, nor can they carry out standard authentication procedures of \ac{5G}. The root problem realized was how to recognize \ac{ 5GC} acknowledgment, authenticate indirectly, and manage individual Wi-Fi-only devices in such a way that no modifications are needed to their built-in facilities or the core facilities of \ac{5GC}. Ideas such as \ac{CGIDs} [cite: 38, 39] along with the involved \ac{PDU} session separation were tapped for inspiration, although such detailed implementation prescriptions are missing from such scenarios in the standards.

The primary necessity to minimize modifications to both the core facilities of \ac{5GC} along with those of the end-user Wi-Fi equipment influenced this work to be centered upon bridging in the network gateway (such as \ac{RG} or similar function), all needed smarts along with adaptation logic. In this way, the solution can be managed by network operators and is transparent to the core network as well as to those of the end devices.

The main methodology involved developing a framework in which the gateway plays the acting mediator role. This framework makes use of local authentication methods (that is, \ac{EAP-TLS}, with the gateway serving as an authenticator forwarding requests to a compulsory, network-operator-controlled, external \ac{EAP} server. This network operator-controlled server is necessary, as it is used to provide the means of authenticating these devices which have no native \ac{5G} identities) to authenticate Wi-Fi devices that wish to connect. Following successful local authentication, the gateway triggers the creation of an exclusive \ac{PDU} Session in the \ac{5GC} specific to that device. The per-device-specific \ac{PDU} Session essentially acts as a 'proxy identity' in the system-wide view of the \ac{5GC}, enabling traffic flows associated with the device to be managed by the \ac{5GC} without requiring direct knowledge of non-\ac{5G} credentials. The gateway takes over responsibility for forwarding traffic from the locally authenticated Wi-Fi device to its associated PDU Session.

This conceptual framework, defined to satisfy the analytic-defined requirements with minimal disruption, was then elaborated in detail, prototyped in a test environment, and then verified through functional and security testing, as detailed in subsequent chapters. This solution was selected for its likely ability to deliver a workable, minimally invasive solution to the defined integration gap.
## Requirements Analysis
Based on the identified problem of integrating Wi-Fi-only devices lacking native 5G credentials, and aiming for a practical and minimally disruptive solution, the following key requirements were established to guide the design of the proposed framework:
1. **Minimal Impact on Existing Infrastructure:**
    - **Core Network:** Modifications to standard 5G Core Network Functions (specifically Access and Mobility Management Function (AMF), Session Management Function (SMF), and User Plane Function (UPF)) were to be strictly limited to configuration changes (e.g., IP interface binding, Data Network Name (DNN) definitions). No code-level alterations to these core components were permissible.
    - **End Devices:** The solution must support standard Wi-Fi-only devices without requiring any specialized software, hardware modifications, or complex configurations beyond standard Wi-Fi connectivity and EAP supplicant capabilities.
    - **Radio Access Network (RAN):** Standard 5G RAN components (gNBs) should operate without modification, interacting with the core network via standard interfaces.
2. **Gateway-Centric Intelligence:**
    - To meet the minimal impact requirements above, the core adaptation logic must be concentrated within the network gateway function (e.g., 5G Residential Gateway (5G-RG) or equivalent). This gateway is responsible for mediating between the Wi-Fi device and the 5GC.
3. **Functional Requirements:**
    - **Secure Device Onboarding:** A robust mechanism for authenticating Wi-Fi devices locally before granting network access was required. This involved leveraging EAP-TLS, relayed by the gateway to an external, operator-controlled EAP server, which manages the credentials for these devices.
    - **Individual Device Representation:** Each successfully authenticated Wi-Fi device must be uniquely represented within the 5GC. This led to the requirement of establishing a dedicated PDU Session per device to act as its proxy identity.
    - **Traffic Separation:** A clear separation between internal network service traffic (e.g., RADIUS communication between gateway and EAP server) and end-user device traffic within the 5G transport network was necessary for security and management.
    - **Lifecycle Management:** The gateway must manage the complete lifecycle for each connected device, including handling initial authentication, triggering PDU Session establishment, managing potential re-authentications or disconnections, and ensuring corresponding PDU Session termination.
    - **Traffic Mapping and Isolation:** _(Note: Implementation pending)_ The gateway must reliably map upstream and downstream traffic between a specific Wi-Fi device and its dedicated PDU Session, ensuring traffic isolation between different devices connected through the same gateway.
4. **Operational Requirements:**
    - **Transparency:** The underlying mechanism (local authentication, PDU session mapping) should be transparent. The 5GC should primarily see standard PDU Session management procedures initiated by the gateway. The Wi-Fi device should only perceive a standard Wi-Fi connection and EAP authentication process.
    - **Operator Manageability:** The solution, including the gateway logic and the associated EAP infrastructure, must be deployable and manageable by the network operator.
These requirements collectively define the criteria for a successful solution capable of integrating unmodified Wi-Fi-only devices into a 5G network ecosystem with minimal disruption to existing components and processes.